(()=>{"use strict";const n=function(){let n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const e=window.location!==window.parent.location;return n&&console.log("isInIframe? ",e),e};(()=>{const n=jQuery;n(document).ready((function(){Boolean(n(".woocommerce-account"))&&n(".woocommerce-MyAccount-navigation-link--uap a").attr("href",function(){let n=window.location.origin;return-1!==n.indexOf("localhost")&&(n+="/realt"),n}()+"/affiliate-account").text("Affiliate Account")}))})(),jQuery(document).ready((function(){const{isAdmin:n,isLoggedIn:e,...a}=window.userGeodata?window.userGeodata:{}})),(()=>{const e=jQuery;e(document).ready((function(){const{wp_user_id:a,wp_kyc_status:o,kyc_status_nonce:t,kyb_status_nonce:s,ajax_url:i,show_kyc_popup:c}=window.kycUpdaterData?window.kycUpdaterData:{};!n()&&"0"!==a&&c&&function(n,a,o,t,s){const i=t,c={action:"maybe_show_kyc_popup",kyc_status_nonce:o,wp_user_id:n,show_kyc_popup:s,wp_kyc_status:a};e.post(i+"?call=maybe_show_kyc_popup",c,(n=>{const a=JSON.parse(n);if(Boolean((null==a?void 0:a.is_new_status)&&!!a.popup_html)){e("body").prepend((o=a.popup_html,'\n          <div id="status-and-tokens-popup" class="status-and-tokens-modal-screen">\n            <div class="status-and-tokens-modal">\n              <a id="close-modal" href="#"></a>\n              <div class="wrapper">\n              '.concat(o,"\n              </div>\n            </div>\n          </div>\n        ")));const n=e("#status-and-tokens-popup");n.find("#close-modal").click((()=>{n.remove()}))}else console.log(a.message);var o}))}(a,o,t,i,c),e("#bunker-kyc").length>0&&function(n,a,o){const t=o+"?call=maybe_update_kyc_status_to_started",s={action:"maybe_update_kyc_status_to_started",kyc_status_nonce:a,wp_user_id:n};e.post(t,s,(n=>{}))}(a,t,i)}))})(),(()=>{const n=jQuery;n(document).ready((function(){const{wp_kyc_status:e}=i("kycUpdaterData"),{Badge:a}=i("kycDashboardL10n"),{user_is_US:o,kyc_status:t,ai_status:s}=i("kycDashboardData");function i(n){return window[n]?window[n]:{}}n(".woocommerce-MyAccount-navigation-link--dashboard.is-active").length&&function(e,i){const c=n(e),r=window.location.origin,d=r+"/marketplace",l=r+"/my-account/id-verification",p=r+"/wp-content/uploads/2019/08/Hero-Blocks-no-shadow_1000px.png";!o||"ACCEPT"===t&&"APPROVED"===s?o||"ACCEPT"===t?c.append('\n            <div id="dashboard-badge">\n              <div class="badge-header">\n                <h4>'.concat(a.header,'</h4>\n              </div>\n\n              <div class="badge-body">\n                <div class="body-lede">\n                  <p>').concat(a.body.lede," <a href=").concat(d,">").concat(a.body.ledeLink,'</a></p>\n                </div>\n\n                <div class="body-text">\n\n                  <p>').concat(a.body.ALL_afterVerification,"</p>\n\n                  <p>").concat(a.body.needAssistance,' <a href="mailto:help@realt.co">help@realt.co</a>.</p>\n                </div>\n\n                <img class="body-img" src="').concat(p,'" alt="a woman sitting on cubes representing tokens" />\n\n              </div>\n            </div>\n          ')):c.append('\n            <div id="dashboard-badge">\n              <div class="badge-header">\n                <h4>'.concat(a.header,'</h4>\n              </div>\n\n              <div class="badge-body">\n                <div class="body-lede">\n                  <p>').concat(a.body.lede," <a href=").concat(d,">").concat(a.body.ledeLink,'</a></p>\n                </div>\n\n                <div class="body-text">\n\n                  <p>').concat(a.body.INTL_afterPurchase,"</p>\n                  <p>").concat(a.body.INTL_uponVerification,"</p>\n\n                  <p>").concat(a.body.needAssistance,' <a href="mailto:help@realt.co">help@realt.co</a>.</p>\n                </div>\n\n                <img class="body-img" src="').concat(p,'" alt="a woman sitting on cubes representing tokens" />\n\n              </div>\n            </div>\n          ')):c.append('\n            <div id="dashboard-badge">\n              <div class="badge-header">\n                <h4>'.concat(a.header,'</h4>\n              </div>\n\n              <div class="badge-body">\n                <div class="body-lede">\n                  <p>').concat(a.body.lede," <a href=").concat(d,">").concat(a.body.ledeLink,'</a></p>\n                </div>\n\n                <div class="body-text">\n\n                  <p>\n                    ').concat(a.body.US_afterPurchase," <a href=").concat(l,">").concat(a.body.US_verifyLink,"</a>\n                  </p>\n                  <p>").concat(a.body.US_uponVerification,"</p>\n                  <p>").concat(a.body.US_dispense,"</p>\n\n                  <p>").concat(a.body.needAssistance,' <a href="mailto:help@realt.co">help@realt.co</a>.</p>\n                </div>\n\n                <img class="body-img" src="').concat(p,'" alt="a woman sitting on cubes representing tokens" />\n\n              </div>\n            </div>\n          '))}(n(".woocommerce-MyAccount-content").css("position","relative"))}))})(),(()=>{const n=jQuery;n(document).ready((function(){var e,a;const o=null!==(a=(null!==(e=window.kycDashboardData)&&void 0!==e?e:{}).kyc_user_overrides)&&void 0!==a?a:{},t=window.wc_registration_l10n.AINotice?window.wc_registration_l10n.AINotice:{},s=n(".woocommerce-MyAccount-content .woocommerce-EditAccountForm");if(s.length){let r=s.find("#account_email");o&&o.email_change_access&&"affirm"===o.email_change_access.value||(r.attr("readonly",!0),r.parent().after('\n            <p class="account-note">If you want to change your email, please contact us via chat in the lower right corner of the screen.</p>\n          ')),s.find("#account_first_name").attr("readonly",!0);let d=s.find("#account_last_name");d.attr("readonly",!0),d.parent().after('\n            <p class="account-note">To update your first and last name please contact us via chat in the lower right corner of the screen.</p>\n          ');const l=window.wc_registration_l10n.Username?window.wc_registration_l10n.Username:"";s.find("#reg_username").after('<span id="reg_username_message" class="registration-message">'.concat(l,"</span>"));const p=window.wc_registration_l10n.Email?window.wc_registration_l10n.Email:{},u=s.find("#reg_email");u.after('<span id="reg_email_laposte_message" class="registration-message">'.concat(p.userInfo,"</span>"));const _=window.wc_registration_l10n.Password?window.wc_registration_l10n.Password:{},m=s.find("#reg_password"),f=s.find("#reg_password2");function g(n,e){const a=n.val().trim(),o=e.val().trim(),t=e.parent().siblings("#reg_password2_nomatch").first(),i=e.parent().siblings("#reg_password2_match").first();if(!(a&&!o||!a&&o))return a!==o?(t.removeClass("hide"),i.addClass("hide"),!1):(i.removeClass("hide"),t.addClass("hide"),!0);s.find(".woocommerce-form-register__submit").prop("disabled",!0)}f.val(""),f.after('<span id="reg_password2_nomatch" class="registration-message error-style bump-up hide">'.concat(_.nomatch,"</span>")),f.after('<span id="reg_password2_match" class="registration-message success-style bump-up hide">'.concat(_.match,"</span>")),u.on("input blur focus",(function(){c(u,s)})),m.on("keyup blur focus",(function(){g(m,f)})),f.on("keyup blur focus",(function(){g(m,f)}))}const i=n("#customer_login");if(i.length){i.find(".woocommerce-privacy-policy-text");const w=i.find('input[name="is_us_person"]');function h(e){e.filter("#is_us_person_Yes").prop("checked")?e.parents(".form-row").first().after(n('<div id="affiliate-disclaimer"><h4>'+t.heading+"</h4><p>"+t.aiText+'</p><p style="font-style: italic;">'+t.otherText+"</p></div>")):n("#affiliate-disclaimer").remove()}h(w),w.change((function(){h(w)}));const y=window.wc_registration_l10n.Username?window.wc_registration_l10n.Username:"";i.find("#reg_username").after('<span id="reg_username_message" class="registration-message">'.concat(y,"</span>"));const b=window.wc_registration_l10n.Email?window.wc_registration_l10n.Email:{},v=i.find("#reg_email");v.after('<span id="reg_email_laposte_message" class="registration-message">'.concat(b.userInfo,"</span>"));const k=window.wc_registration_l10n.Password?window.wc_registration_l10n.Password:{},A=i.find("#reg_password"),C=i.find("#reg_password2");C.val(""),C.after('<span id="reg_password2_nomatch" class="registration-message error-style bump-up hide">'.concat(k.nomatch,"</span>")),C.after('<span id="reg_password2_match" class="registration-message success-style bump-up hide">'.concat(k.match,"</span>"));const U=i.find('input[name="is_business_account"]'),x=window.wc_registration_l10n.KYB?window.wc_registration_l10n.KYB:"",I=x.KYBNotice?x.KYBNotice:"";function L(n,e,a,o,t,s){c(n,t)&&P(e,a,t)&&D(o)&&T(s)?setTimeout((()=>{t.find(".woocommerce-form-register__submit").prop("disabled",!1)}),20):setTimeout((()=>{t.find(".woocommerce-form-register__submit").prop("disabled",!0)}),20)}function P(n,e,a){const o=n.val().trim(),t=e.val().trim(),s=e.parent().siblings("#reg_password2_nomatch").first(),i=e.parent().siblings("#reg_password2_match").first();if(o&&t)return o!==t?(s.removeClass("hide"),i.addClass("hide"),!1):(i.removeClass("hide"),s.addClass("hide"),!0);a.find(".woocommerce-form-register__submit").prop("disabled",!0)}function D(e){let a=!1;return e.each((function(){n(this).is(":checked")&&(a=!0)})),a}function T(e){let a=!1;return e.each((function(){n(this).is(":checked")&&(a=!0)})),a}function B(e){const a=e.filter("#is_business_account_box_Yes");a.prop("checked")?a.parents(".form-row").first().after(n('<div id="business-account-notice"><p>'.concat(I,"</p></div>"))):n("#business-account-notice").remove()}B(U),U.change((function(){B(U)})),L(v,A,C,w,i,U),v.on("input blur focus",(function(){L(v,A,C,w,i,U)})),A.on("keyup blur focus",(function(){L(v,A,C,w,i,U)})),C.on("keyup blur focus",(function(){L(v,A,C,w,i,U)})),w.on("change",(function(){L(v,A,C,w,i,U)}))}function c(n,e){let a=n.val();const o=[/@free.fr/,/@laposte.net/,/@numericable.fr/];if(!a)return!1;for(let n=0;n<o.length;n++)if(o[n].test(a))return e.find("#reg_email_laposte_message").addClass("error-style"),!1;return e.find("#reg_email_laposte_message").removeClass("error-style"),!0}}))})(),(()=>{const n=jQuery;n(document).ready((function(){const e=n("#onboarding-checklist-root");e.length>0&&(n("#page-container").prepend(e),e.removeClass("hidden"))}))})()})();